---
import MainLayout from "../../layouts/MainLayout.astro";

 export async function getStaticPaths() {
  const data = await fetch("https://zjnxsqqsmngkuukudtjx.supabase.co/rest/v1/copenhagenLightFestival",
  {
	method: "GET",
	headers:{
		apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpqbnhzcXFzbW5na3V1a3VkdGp4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2OTU4OTA0MjgsImV4cCI6MjAxMTQ2NjQyOH0.rXSQvsHgfJeRYcdBgI1y6UDJ_ZypGEgDKuU_cxn36Ps"
	}
}
  ).then(response => response.json());

  return data.map((vaerk) => {
    return {
      params: { slug: vaerk.slug },
      props: { myData:vaerk},
    };
  });
} 

const {myData} = Astro.props;
console.log(myData )


---

<MainLayout title={myData.title}>

  <article>
    
    <h1>{myData.title}</h1>

    <div class="div_image">
        <img class="image" src={myData.img} alt="Billede af værk">
    </div >
    <div class="text">
        <p><strong>WHO</strong> {myData.who}</p>
        <p><strong>WHERE:</strong> {myData.where}</p>
        <p>{myData.description}</p>
        <a href={`vaerker/${myData.slug}`}>
            <img class="arrow" src="/ArrowNext.svg" alt="Knap til beskrivelse af værk">
    </a>
    </div>

</article>

</MainLayout>

<style>
   h1, h2{
    color: #ffffff;
      font-family: Helvetica;
      font-weight: 400;
      text-transform: uppercase;
      
}

 h1{
    font-size: 30px;
    margin-left: 2rem;
      margin-top: 10rem;
      margin-bottom: 1rem;
      line-height: 1.25;
}

h2{
    font-size: 20px;
    margin-top: 3rem;
    text-decoration: underline;
    
}

 p{
    color: #ffffff;
    font-size: 16px;
    font-family: Helvetica;
      font-weight: 400;
      margin-left: 0;
}

image{
  object-fit: cover;
  width: 80%;
  margin: 0 auto;
  
}
</style>